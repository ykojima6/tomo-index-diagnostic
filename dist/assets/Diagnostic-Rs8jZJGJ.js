import{R as w,j as e,u as y,a as L,r as j,Q as o,B as g}from"./index-CnV91QEI.js";function $({name:m,legend:l,value:a,onChange:d}){const c=w.useId(),n=Array.from({length:7},(s,b)=>b+1),u=`${m}-${c}`;return e.jsxs("fieldset",{className:"space-y-6",children:[e.jsx("legend",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 leading-relaxed",children:l}),e.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"text-left",children:"å…¨ãé•ã†"}),e.jsx("span",{className:"text-right",children:"å…¨ããã®ã¨ãŠã‚Šã§ã‚ã‚‹"})]}),e.jsx("div",{className:"flex items-center justify-between gap-2 px-2",role:"radiogroup","aria-label":l,children:n.map(s=>e.jsxs("label",{className:`flex flex-col items-center gap-2 cursor-pointer group transition-transform hover:scale-110 ${a===s?"scale-110":""}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:"sr-only",type:"radio",name:u,value:s,checked:a===s,onChange:()=>d(s),"aria-checked":a===s}),e.jsx("div",{className:`
                h-8 w-8 rounded-full border-2 transition-all duration-200 ease-in-out
                ${a===s?"bg-blue-600 border-blue-600 ring-4 ring-blue-200 dark:ring-blue-800":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/30"}
              `,children:a===s&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"h-3 w-3 rounded-full bg-white"})})})]}),e.jsx("span",{className:`
              text-sm font-medium transition-colors
              ${a===s?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400"}
            `,children:s})]},s))}),a>0&&e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:["é¸æŠ: ",a]})})]})}function C({value:m,label:l,showPercentage:a=!1,color:d="blue",size:c="md"}){const n=Math.max(0,Math.min(100,m)),u={blue:"bg-blue-600 dark:bg-blue-500",green:"bg-green-600 dark:bg-green-500",red:"bg-red-600 dark:bg-red-500",yellow:"bg-yellow-600 dark:bg-yellow-500"},s={sm:"h-1",md:"h-2",lg:"h-3"};return e.jsxs("div",{className:"w-full",children:[(l||a)&&e.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm",children:[l&&e.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:l}),a&&e.jsxs("span",{className:"text-gray-500 dark:text-gray-400 tabular-nums",children:[n,"%"]})]}),e.jsx("div",{className:`w-full rounded-full bg-gray-200 dark:bg-gray-800 overflow-hidden ${s[c]}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n,"aria-label":l||`é€²æ—: ${n}%`,children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ease-out ${u[d]}`,style:{width:`${n}%`},children:e.jsx("div",{className:"h-full w-full bg-gradient-to-r from-transparent to-white/20"})})})]})}function E(){const m=y(),{state:l,setAnswer:a,allAnswered:d,answeredCount:c,compute:n,reset:u}=L(),[s,b]=j.useState(0),i=o[s],h=j.useMemo(()=>{var t;return((t=l.answers.find(r=>r.questionId===i.id))==null?void 0:t.value)??0},[l.answers,i.id]),f=()=>{s<o.length-1&&b(t=>t+1)},v=()=>{s>0&&b(t=>t-1)},p=()=>{d&&(n(),m("/results"))},N=Math.round(c/o.length*100),x=s===o.length-1;return j.useEffect(()=>{const t=r=>{r.key>="1"&&r.key<="7"?(r.preventDefault(),a(i.id,parseInt(r.key))):r.key==="ArrowLeft"&&s>0?(r.preventDefault(),v()):r.key==="ArrowRight"&&s<o.length-1&&h>0?(r.preventDefault(),f()):r.key==="Enter"&&x&&d&&(r.preventDefault(),p())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[s,h,d,x,i.id,a,f,v,p]),e.jsxs("main",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-900/50 dark:to-indigo-900/50",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 right-10 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 left-10 w-80 h-80 bg-gradient-to-tr from-indigo-400/8 to-pink-400/8 rounded-full blur-3xl"})]}),e.jsx("div",{className:"container relative py-8",children:e.jsxs("div",{className:"mx-auto max-w-3xl",children:[e.jsxs("header",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold text-slate-800 dark:text-slate-200 mb-4",children:"ToMoæŒ‡æ•°è¨ºæ–­"}),e.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 mb-4",children:"6ã¤ã®è³ªå•ã«1ã€œ7ã®ã‚¹ã‚±ãƒ¼ãƒ«ã§å›ç­”ã—ã¦ãã ã•ã„"}),c>0&&e.jsx(g,{onClick:u,variant:"ghost",size:"sm",className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300",children:"ğŸ”„ æ–°ã—ã„è¨ºæ–­ã‚’é–‹å§‹"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"relative overflow-hidden rounded-xl bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 p-6 shadow-lg",children:e.jsx(C,{value:N,label:`å›ç­”çŠ¶æ³: ${c}/${o.length}`,showPercentage:!0,color:d?"green":"blue",size:"lg"})})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 shadow-xl",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsxs("div",{className:"relative text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm mb-4 font-bold text-lg",children:i.id}),e.jsxs("div",{className:"text-sm opacity-90 mb-2",children:["è³ªå• ",s+1," / ",o.length]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsx($,{name:`q-${i.id}`,legend:i.text,value:h,onChange:t=>a(i.id,t)}),e.jsxs("div",{className:"mt-6 p-4 bg-slate-100/70 dark:bg-slate-700/50 backdrop-blur-sm rounded-xl border border-slate-200/50 dark:border-slate-600/50",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-300 font-medium mb-2",children:[e.jsx("span",{className:"text-lg",children:"âŒ¨ï¸"}),"ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ"]}),e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-2 py-1 bg-white dark:bg-slate-800 rounded border text-xs",children:"1-7"}),e.jsx("span",{children:"å›ç­”é¸æŠ"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-2 py-1 bg-white dark:bg-slate-800 rounded border text-xs",children:"â† â†’"}),e.jsx("span",{children:"è³ªå•ã®ç§»å‹•"})]}),x&&d&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"px-2 py-1 bg-white dark:bg-slate-800 rounded border text-xs",children:"Enter"}),e.jsx("span",{children:"è¨ºæ–­å®Œäº†"})]})]})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"flex gap-3 p-3 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm rounded-full border border-slate-200/50 dark:border-slate-700/50 shadow-lg",children:o.map((t,r)=>{var k;return e.jsx("button",{onClick:()=>b(r),className:`w-4 h-4 rounded-full transition-all duration-300 ${r===s?"bg-gradient-to-r from-blue-600 to-purple-600 scale-125 shadow-lg":((k=l.answers[r])==null?void 0:k.value)>0?"bg-gradient-to-r from-green-500 to-emerald-500 hover:scale-110":"bg-slate-300 dark:bg-slate-600 hover:bg-slate-400 dark:hover:bg-slate-500 hover:scale-110"}`,"aria-label":`è³ªå• ${r+1} ã«ç§»å‹•`},r)})})}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs(g,{variant:"secondary",onClick:v,disabled:s===0,"aria-label":"å‰ã¸",className:"flex items-center gap-2 bg-white/70 dark:bg-slate-800/70 backdrop-blur-sm border border-slate-200/50 dark:border-slate-700/50 hover:bg-white dark:hover:bg-slate-800",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"å‰ã¸"]}),!x&&e.jsxs(g,{onClick:f,disabled:h===0,"aria-label":"æ¬¡ã¸",className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:["æ¬¡ã¸",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),x&&e.jsxs(g,{variant:"success",onClick:p,disabled:!d,"aria-label":"è¨ºæ–­çµæœã‚’è¦‹ã‚‹",className:"flex items-center gap-2 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700",children:["è¨ºæ–­çµæœã‚’è¦‹ã‚‹",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]}),!d&&x&&e.jsx("div",{className:"mt-6 p-4 rounded-xl bg-red-50/80 dark:bg-red-900/30 backdrop-blur-sm border border-red-200 dark:border-red-800 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600 dark:text-red-400",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.98-.833-2.75 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("span",{className:"text-sm font-medium",children:"æœªå›ç­”ã®è³ªå•ãŒã‚ã‚Šã¾ã™ã€‚ã™ã¹ã¦å›ç­”ã—ã¦ãã ã•ã„ã€‚"})]})})]})]})})]})}export{E as default};
